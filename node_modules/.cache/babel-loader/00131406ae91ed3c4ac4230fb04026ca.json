{"ast":null,"code":"var _jsxFileName = \"/home/shivangi/Desktop/reactproject/movieapp/movieapp/src/components/MoviesLIst.js\";\nimport React, { Component } from \"react\"; //import { movies } from \"./movieData\";\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MovieList extends Component {\n  constructor() {\n    super();\n\n    this.changePage = async () => {\n      const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=f256c6f343e7be6220c90cdb69c0b020&language=en-US&page=${this.state.currPage}`);\n      const movieDataApi = res.data.results;\n      this.setState({\n        movies: [...movieDataApi]\n      });\n    };\n\n    this.handleNext = () => {\n      let tempArr = [];\n\n      for (let i = 1; i <= this.state.parr.length + 1; i++) {\n        tempArr.push(i);\n      }\n\n      console.log(tempArr);\n      this.setState({\n        parr: [...tempArr],\n        currPage: this.state.currPage + 1\n      }, this.changePage);\n    };\n\n    this.handlePrevious = () => {\n      if (this.state.currPage != 1) {\n        this.setState({\n          currPage: this.state.currPage - 1\n        }, this.changePage);\n      }\n    };\n\n    this.handlePageClick = value => {\n      if (value != this.state.currPage) {\n        this.setState({\n          currPage: value\n        }, this.changePage);\n      }\n    };\n\n    this.handleFavourites = movieObj => {\n      let data = JSON.parse(localStorage.getItem(\"movies-test\") || \"[]\");\n\n      if (this.state.favourites.includes(movieObj.id)) {\n        data = data.filter(movie => movie.id != movieObj.id);\n      } else {\n        data.push(movieObj);\n      }\n\n      localStorage.setItem(\"movies-test\", JSON.stringify(data));\n      console.log(data);\n      this.handleFavoritesState();\n    };\n\n    this.handleFavoritesState = () => {\n      let data = JSON.parse(localStorage.getItem(\"movies-test\") || \"[]\");\n      let temp = data.map(movie => movie.id);\n      this.setState({\n        favourites: [...temp]\n      });\n    };\n\n    this.state = {\n      hover: \"\",\n      movies: [],\n      currPage: 1,\n      parr: [1],\n      favorites: []\n    };\n  } // we created another method to update the state\n\n\n  async componentDidMount() {\n    const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=f256c6f343e7be6220c90cdb69c0b020&language=en-US&page=${this.state.currPage}`);\n    const movieDataApi = res.data.results;\n    this.setState({\n      movies: [...movieDataApi]\n    });\n    console.log('Mounting third');\n  }\n\n  render() {\n    console.log(\"render second\");\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Trending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies-list\",\n        children: this.state.movies.map(movieElem => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card movie-card\",\n          onMouseEnter: () => this.setState({\n            hover: movieElem.id\n          }),\n          onMouseLeave: () => this.setState({\n            hover: \"\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/original${movieElem.backdrop_path}`,\n            className: \"card-img-top movie-img\",\n            alt: \"...\",\n            style: {\n              height: \"40vh\",\n              width: \"20vw\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            class: \"card-title movie-title\",\n            children: movieElem.original_title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), this.state.hover == movieElem.id && /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"btn btn-primary movies-button text-center\",\n            onClick: () => this.handleFavourites(movieElem),\n            children: this.state.favourites.includes(movieElem.id) ? 'Remove' : 'Add To favourites'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"...\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            class: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"page-item \",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                class: \"page-link\",\n                onClick: this.handlePrevious,\n                children: \"Previous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), this.state.parr.map(value => /*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                class: \"page-link\",\n                onClick: () => this.handlePageClick(value),\n                children: value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                class: \"page-link\",\n                onClick: this.handleNext,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default MovieList;","map":{"version":3,"names":["React","Component","axios","MovieList","constructor","changePage","res","get","state","currPage","movieDataApi","data","results","setState","movies","handleNext","tempArr","i","parr","length","push","console","log","handlePrevious","handlePageClick","value","handleFavourites","movieObj","JSON","parse","localStorage","getItem","favourites","includes","id","filter","movie","setItem","stringify","handleFavoritesState","temp","map","hover","favorites","componentDidMount","render","movieElem","backdrop_path","height","width","original_title","display","justifyContent"],"sources":["/home/shivangi/Desktop/reactproject/movieapp/movieapp/src/components/MoviesLIst.js"],"sourcesContent":["import React, { Component } from \"react\";\n\n//import { movies } from \"./movieData\";\n\nimport axios from 'axios'\n\n   class MovieList extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      hover: \"\",\n      movies: [],\n      currPage: 1,\n      parr: [1],\n      favorites:[]\n\n    };\n  }\n\n  // we created another method to update the state\n  async componentDidMount() {\n    const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=f256c6f343e7be6220c90cdb69c0b020&language=en-US&page=${this.state.currPage}`)\n    const movieDataApi = res.data.results\n\n    this.setState({\n      movies : [...movieDataApi]\n    });\n    console.log('Mounting third');\n\n  }\n\n  \n\n  changePage = async () => {\n    const res = await axios.get(\n      `https://api.themoviedb.org/3/movie/popular?api_key=f256c6f343e7be6220c90cdb69c0b020&language=en-US&page=${this.state.currPage}`\n    );\n    const movieDataApi = res.data.results;\n\n    this.setState({\n      movies: [...movieDataApi],\n    });\n  };\n\n  handleNext = () => {\n    let tempArr = [];\n\n    for (let i = 1; i <= this.state.parr.length + 1; i++) {\n      tempArr.push(i);\n    }\n\n    console.log(tempArr);\n\n    this.setState(\n      {\n        parr: [...tempArr],\n        currPage: this.state.currPage + 1,\n      },\n      this.changePage\n    );\n  };\n\n  handlePrevious = () => {\n    if (this.state.currPage != 1) {\n      this.setState(\n        {\n          currPage: this.state.currPage - 1,\n        },\n        this.changePage\n      );\n    }\n  };\n\n  handlePageClick = (value) => {\n    if (value != this.state.currPage) {\n      this.setState(\n        {\n          currPage: value,\n        },\n        this.changePage\n      );\n    }\n  };\n\n  handleFavourites = (movieObj) => {\n    let data = JSON.parse(localStorage.getItem(\"movies-test\") || \"[]\");\n\n    if (this.state.favourites.includes(movieObj.id)) {\n      data = data.filter((movie) => movie.id != movieObj.id);\n    } else {\n      data.push(movieObj);\n    }\n\n    localStorage.setItem(\"movies-test\", JSON.stringify(data));\n\n    console.log(data);\n\n    this.handleFavoritesState();\n  };\n\n  handleFavoritesState = () => {\n    let data = JSON.parse(localStorage.getItem(\"movies-test\") || \"[]\");\n\n    let temp = data.map((movie) => movie.id);\n\n    this.setState({\n      favourites: [...temp],\n    });\n  };\n\n  render() {\n    console.log(\"render second\");\n    return (\n      <>\n        <div>\n          <h3 className=\"text-center\">\n            <strong>Trending</strong>\n          </h3>\n        </div>\n\n        <div className=\"movies-list\">\n          {this.state.movies.map((movieElem) => (\n            <div\n              className=\"card movie-card\"\n              onMouseEnter={() => this.setState({ hover: movieElem.id })}\n              onMouseLeave={() => this.setState({ hover: \"\" })}\n            >\n              <img\n                src={`https://image.tmdb.org/t/p/original${movieElem.backdrop_path}`}\n                className=\"card-img-top movie-img\"\n                alt=\"...\"\n                style={{ height: \"40vh\", width: \"20vw\" }}\n              />\n\n              <h5 class=\"card-title movie-title\">{movieElem.original_title}</h5>\n\n              {this.state.hover == movieElem.id && (\n                <a\n                  class=\"btn btn-primary movies-button text-center\"\n                  onClick={() => this.handleFavourites(movieElem)}\n                >\n                 {this.state.favourites.includes(movieElem.id)? 'Remove' : 'Add To favourites'}\n                </a>\n              )}\n            </div>\n          ))}\n        </div>\n\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <nav aria-label=\"...\">\n            <ul class=\"pagination\">\n              <li class=\"page-item \">\n                <a class=\"page-link\" onClick={this.handlePrevious}>\n                  Previous\n                </a>\n              </li>\n\n              {this.state.parr.map((value) => (\n                <li class=\"page-item\">\n                  <a\n                    class=\"page-link\"\n                    onClick={() => this.handlePageClick(value)}\n                  >\n                    {value}\n                  </a>\n                </li>\n              ))}\n              <li class=\"page-item\">\n                <a class=\"page-link\" onClick={this.handleNext}>\n                  Next\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MovieList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}